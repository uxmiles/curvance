(()=>{var a={};a.id=974,a.ids=[974],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},2654:(a,b,c)=>{Promise.resolve().then(c.bind(c,9104))},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4406:(a,b,c)=>{Promise.resolve().then(c.bind(c,6705))},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6705:(a,b,c)=>{"use strict";c.d(b,{MarketView:()=>y});var d=c(1124),e=c(8301),f=c(3339);let g=(0,f.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),h=(0,f.A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),i=(0,f.A)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),j=(0,f.A)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var k=c(2378),l=c(7578);function m({className:a}){return(0,d.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsxs)("g",{clipPath:"url(#clip0_4270_5236)",children:[(0,d.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#2E7BFF"}),(0,d.jsx)("path",{d:"M11.9998 3.60001L4.7998 7.79054V16.1716L11.9998 20.3622L19.1998 16.1716V7.79054L11.9998 3.60001ZM16.1495 14.3955L12.0011 16.8099L7.85273 14.3955V9.56666L12.0011 7.15224L16.1495 9.56666V14.3955Z",fill:"white"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"clip0_4270_5236",children:(0,d.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})}function n({className:a}){return(0,d.jsxs)("svg",{className:a,viewBox:"0 0 27 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M24.7662 16.0279C23.1635 22.4565 16.6516 26.3688 10.2215 24.7658C3.79411 23.163 -0.118652 16.6515 1.48491 10.2234C3.08706 3.79403 9.59892 -0.118606 16.027 1.48408C22.4566 3.08678 26.3693 9.59892 24.7662 16.0279Z",fill:"#6D29D9"}),(0,d.jsxs)("g",{clipPath:"url(#clip0_4270_5239)",children:[(0,d.jsx)("path",{d:"M14.5848 11.8443C14.5848 12.7718 13.8344 13.5243 12.909 13.5243V15.2043C14.7591 15.2043 16.2599 13.7 16.2599 11.8443C16.2599 9.9886 14.7591 8.4843 12.909 8.4843C12.2993 8.4843 11.726 8.6481 11.2339 8.9344C10.2315 9.5147 9.55811 10.6011 9.55811 11.845V20.245L11.2339 21.925V11.845C11.2339 10.9175 11.9836 10.165 12.909 10.165C13.8344 10.165 14.5848 10.9175 14.5848 11.845V11.8443Z",fill:"white"}),(0,d.jsx)("path",{d:"M12.9098 5.125C11.689 5.125 10.5452 5.4526 9.55891 6.0245C8.92821 6.3906 8.36261 6.8554 7.88381 7.4007C6.84081 8.5851 6.20801 10.1419 6.20801 11.845V16.885L7.88381 18.565V11.845C7.88381 10.3526 8.53061 9.0114 9.55891 8.0888C10.0426 7.6555 10.6103 7.3139 11.2347 7.0934C11.7583 6.9065 12.3225 6.805 12.9098 6.805C15.686 6.805 17.9358 9.0618 17.9358 11.845C17.9358 14.6282 15.6846 16.885 12.9098 16.885V18.565C16.6114 18.565 19.6109 15.5564 19.6109 11.845C19.6109 8.1336 16.6114 5.125 12.9098 5.125Z",fill:"white"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"clip0_4270_5239",children:(0,d.jsx)("rect",{width:"14",height:"16.8",fill:"white",transform:"translate(6.28516 5.125)"})})})]})}function o({className:a}){return(0,d.jsxs)("svg",{className:a,viewBox:"0 0 27 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{d:"M24.7664 16.0279C23.1636 22.4565 16.6517 26.3688 10.2215 24.7658C3.79412 23.163 -0.11866 16.6515 1.48491 10.2234C3.08707 3.79403 9.59897 -0.118606 16.0271 1.48408C22.4567 3.08678 26.3694 9.59892 24.7664 16.0279Z",fill:"#E41939"}),(0,d.jsx)("path",{d:"M17.312 6.15009L17.2968 6.125H8.63731L4.28516 13.4926L8.62202 20.8351L8.63731 20.8602H17.2968L21.6489 13.4926L17.312 6.15009ZM9.93449 9.37916L7.84554 12.9156H5.86257L8.93791 7.70975L9.93347 9.37916H9.93449ZM10.8516 18.0838H15.0764L16.0648 19.7751H9.86316L10.8516 18.0838ZM15.0876 8.83245H10.8475L9.87947 7.21007H16.0546L15.0866 8.83245H15.0876ZM10.8526 16.9987L8.76162 13.4581L10.8526 9.91752H15.0804L17.1714 13.4581L15.0804 16.9987H10.8526ZM18.0885 12.9156L16.0006 9.38021L16.9962 7.71079L20.0705 12.9156H18.0885ZM9.93653 17.5413L8.93077 19.2629L5.82283 14.0017H7.84554L9.93653 17.5413ZM20.1122 14.0007L17.0012 19.2671L15.9955 17.5454L18.0895 14.0007H20.1122Z",fill:"white"})]})}function p({className:a,healthPercentage:b}){let c=Math.ceil(b/100*9),e=a=>a>=c?"#4B5563":a<2?"#EF4444":a<4?"#F97316":a<6?"#EAB308":"#22C55E";return(0,d.jsxs)("svg",{className:a,viewBox:"0 0 51 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsxs)("g",{clipPath:"url(#clip0_287_745)",children:[(0,d.jsx)("path",{d:"M3.79688 4.5C3.79688 3.67157 2.94692 3 1.89844 3C0.849959 3 0 3.67157 0 4.5V11.5C0 12.3284 0.849959 13 1.89844 13C2.94692 13 3.79688 12.3284 3.79688 11.5V4.5Z",fill:e(0)}),(0,d.jsx)("path",{d:"M9.59375 4.5C9.59375 3.67157 8.74379 3 7.69531 3C6.64683 3 5.79688 3.67157 5.79688 4.5V11.5C5.79688 12.3284 6.64683 13 7.69531 13C8.74379 13 9.59375 12.3284 9.59375 11.5V4.5Z",fill:e(1)}),(0,d.jsx)("path",{d:"M15.3906 4.5C15.3906 3.67157 14.5407 3 13.4922 3C12.4437 3 11.5938 3.67157 11.5938 4.5V11.5C11.5938 12.3284 12.4437 13 13.4922 13C14.5407 13 15.3906 12.3284 15.3906 11.5V4.5Z",fill:e(2)}),(0,d.jsx)("path",{d:"M21.1875 4.5C21.1875 3.67157 20.3375 3 19.2891 3C18.2406 3 17.3906 3.67157 17.3906 4.5V11.5C17.3906 12.3284 18.2406 13 19.2891 13C20.3375 13 21.1875 12.3284 21.1875 11.5V4.5Z",fill:e(3)}),(0,d.jsx)("path",{d:"M26.9844 4.5C26.9844 3.67157 26.1344 3 25.0859 3C24.0375 3 23.1875 3.67157 23.1875 4.5V11.5C23.1875 12.3284 24.0375 13 25.0859 13C26.1344 13 26.9844 12.3284 26.9844 11.5V4.5Z",fill:e(4)}),(0,d.jsx)("path",{d:"M32.7812 4.5C32.7812 3.67157 31.9313 3 30.8828 3C29.8343 3 28.9844 3.67157 28.9844 4.5V11.5C28.9844 12.3284 29.8343 13 30.8828 13C31.9313 13 32.7812 12.3284 32.7812 11.5V4.5Z",fill:e(5)}),(0,d.jsx)("path",{d:"M38.5781 4.5C38.5781 3.67157 37.7282 3 36.6797 3C35.6312 3 34.7812 3.67157 34.7812 4.5V11.5C34.7812 12.3284 35.6312 13 36.6797 13C37.7282 13 38.5781 12.3284 38.5781 11.5V4.5Z",fill:e(6)}),(0,d.jsx)("path",{d:"M44.375 4.5C44.375 3.67157 43.525 3 42.4766 3C41.4281 3 40.5781 3.67157 40.5781 4.5V11.5C40.5781 12.3284 41.4281 13 42.4766 13C43.525 13 44.375 12.3284 44.375 11.5V4.5Z",fill:e(7)}),(0,d.jsx)("path",{d:"M50.1719 4.5C50.1719 3.67157 49.3219 3 48.2734 3C47.225 3 46.375 3.67157 46.375 4.5V11.5C46.375 12.3284 47.225 13 48.2734 13C49.3219 13 50.1719 12.3284 50.1719 11.5V4.5Z",fill:e(8)})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"clip0_287_745",children:(0,d.jsx)("rect",{width:"50.1719",height:"16",fill:"white"})})})]})}let q=(0,f.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var r=c(7837);function s({content:a,children:b}){let[c,f]=(0,e.useState)(!1);return(0,d.jsxs)(r.AM,{open:c,onOpenChange:f,children:[(0,d.jsx)(r.Wv,{asChild:!0,children:(0,d.jsx)("button",{className:"inline-flex items-center text-white/40 hover:text-white/60 transition-colors",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:b||(0,d.jsx)(q,{className:"w-3.5 h-3.5"})})}),(0,d.jsx)(r.hl,{align:"center",side:"top",className:"w-64 p-3 bg-[#1a1a1a] border-white/10 shadow-2xl shadow-black/50",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:(0,d.jsx)("div",{className:"text-white/80 text-sm leading-relaxed",children:a})})]})}var t=c(5351);function u({onSelectionChange:a}){let[b,c]=(0,e.useState)(!1),[f,g]=(0,e.useState)(""),[i,j]=(0,e.useState)([]),k=(0,e.useRef)(null),m=[{symbol:"USDC",Icon:l.Hb},{symbol:"wETH",Icon:l.Eh},{symbol:"wBTC",Icon:l.Uz},{symbol:"AUSD",Icon:l.TR},{symbol:"wMON",Icon:l.vJ},{symbol:"aprMON",Icon:l.x2},{symbol:"sAUSD",Icon:l.qP}].filter(a=>a.symbol.toLowerCase().includes(f.toLowerCase())),n=()=>{j([]),a([])};return(0,d.jsxs)("div",{className:"flex items-center gap-2 relative",ref:k,children:[(0,d.jsx)("span",{className:"text-white/40 text-sm",children:"Deposit:"}),(0,d.jsxs)("button",{type:"button",onClick:()=>{console.log("Toggling dropdown, current state:",b),c(!b)},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm transition-all ${b||i.length>0?"bg-[#5740CE]/20 border border-[#5740CE] text-white":"bg-white/5 hover:bg-white/10 border border-white/10 text-white/60 hover:text-white"}`,children:[(0,d.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),(0,d.jsx)("span",{className:"font-medium",children:i.length>0?`${i.length} selected`:"All"}),(0,d.jsx)(t.A,{className:`w-3.5 h-3.5 transition-transform ${b?"rotate-180":""}`})]}),b&&(0,d.jsxs)("div",{className:"fixed bg-[#1a1a1a] border border-white/10 rounded-xl shadow-2xl w-80 overflow-hidden",style:{position:"fixed",top:k.current?k.current.getBoundingClientRect().bottom+8:0,left:k.current?k.current.getBoundingClientRect().left+80:0,zIndex:99999},children:[(0,d.jsx)("div",{className:"p-3 border-b border-white/5",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(h,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/40"}),(0,d.jsx)("input",{type:"text",placeholder:"Search for deposit asset",value:f,onChange:a=>g(a.target.value),className:"w-full pl-9 pr-3 py-2 bg-white/5 border border-white/10 rounded-lg text-sm text-white placeholder:text-white/40 focus:outline-none focus:border-[#5740CE]/50 transition-colors",onClick:a=>a.stopPropagation()})]})}),(0,d.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 border-b border-white/5",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:n,className:"px-2 py-1 text-xs rounded-md bg-white/10 text-white hover:bg-white/20 transition-colors",children:"All"}),(0,d.jsx)("button",{className:"px-2 py-1 text-xs rounded-md text-white/60 hover:bg-white/10 transition-colors",children:"Eth"}),(0,d.jsx)("button",{className:"px-2 py-1 text-xs rounded-md text-white/60 hover:bg-white/10 transition-colors",children:"Btc"}),(0,d.jsx)("button",{className:"px-2 py-1 text-xs rounded-md text-white/60 hover:bg-white/10 transition-colors",children:"Stables"})]}),(0,d.jsx)("button",{onClick:n,className:"text-white/40 hover:text-white text-xs transition-colors",children:"Clear"})]}),(0,d.jsx)("div",{className:"max-h-72 overflow-y-auto p-1",children:m.map(b=>(0,d.jsxs)("label",{className:"flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-white/5 cursor-pointer transition-colors",onClick:a=>a.stopPropagation(),children:[(0,d.jsx)("input",{type:"checkbox",checked:i.includes(b.symbol),onChange:()=>(b=>{let c=i.includes(b)?i.filter(a=>a!==b):[...i,b];j(c),a(c)})(b.symbol),className:"w-4 h-4 rounded border-white/20 bg-white/5 text-[#5740CE] focus:ring-[#5740CE] focus:ring-offset-0 cursor-pointer"}),(0,d.jsx)(b.Icon,{className:"w-6 h-6 flex-shrink-0"}),(0,d.jsx)("span",{className:"text-white text-sm",children:b.symbol})]},b.symbol))})]})]})}let v=[{id:"1",name:"Market A",tokenSymbol:"USDC",oracleName:"Chainlink",TokenIcon:l.Hb,OracleIcon:m,tvl:"$2.44B",totalDeposits:"$1.82B",totalDepositsExact:"$1,820,555,222.44",availableLiquidity:"$1.24B",availableLiquidityExact:"$1,240,887,432.18",supplyAPY:"10.9%",borrowAPY:"4.6%",maxLeverage:"20x",healthPercentage:95},{id:"2",name:"Market B",tokenSymbol:"wETH",oracleName:"Pyth",TokenIcon:l.Eh,OracleIcon:n,tvl:"$2.44B",totalDeposits:"$1.65B",totalDepositsExact:"$1,650,234,891.67",availableLiquidity:"$892M",availableLiquidityExact:"$892,145,332.89",supplyAPY:"10.9%",borrowAPY:"4.6%",maxLeverage:"12x",healthPercentage:88},{id:"3",name:"Market C",tokenSymbol:"wBTC",oracleName:"Redstone",TokenIcon:l.Uz,OracleIcon:o,tvl:"$2.44B",totalDeposits:"$1.44B",totalDepositsExact:"$1,440,678,345.23",availableLiquidity:"$756M",availableLiquidityExact:"$756,234,567.91",supplyAPY:"10.9%",borrowAPY:"4.6%",maxLeverage:"10x",healthPercentage:92},{id:"4",name:"Market D",tokenSymbol:"AUSD",oracleName:"Chainlink",TokenIcon:l.TR,OracleIcon:m,tvl:"$1.82B",totalDeposits:"$1.12B",totalDepositsExact:"$1,120,987,654.32",availableLiquidity:"$684M",availableLiquidityExact:"$684,567,890.12",supplyAPY:"8.4%",borrowAPY:"3.9%",maxLeverage:"18x",healthPercentage:100},{id:"5",name:"Market E",tokenSymbol:"wMON",oracleName:"Pyth",TokenIcon:l.vJ,OracleIcon:n,tvl:"$1.55B",totalDeposits:"$892M",totalDepositsExact:"$892,456,789.01",availableLiquidity:"$523M",availableLiquidityExact:"$523,678,901.23",supplyAPY:"12.3%",borrowAPY:"5.2%",maxLeverage:"8x",healthPercentage:76},{id:"6",name:"Market F",tokenSymbol:"aprMON",oracleName:"Redstone",TokenIcon:l.x2,OracleIcon:o,tvl:"$980M",totalDeposits:"$634M",totalDepositsExact:"$634,123,456.78",availableLiquidity:"$412M",availableLiquidityExact:"$412,345,678.90",supplyAPY:"9.7%",borrowAPY:"4.1%",maxLeverage:"6x",healthPercentage:82},{id:"7",name:"Market G",tokenSymbol:"sAUSD",oracleName:"Chainlink",TokenIcon:l.qP,OracleIcon:m,tvl:"$672M",totalDeposits:"$445M",totalDepositsExact:"$445,678,901.23",availableLiquidity:"$278M",availableLiquidityExact:"$278,901,234.56",supplyAPY:"15.2%",borrowAPY:"6.8%",maxLeverage:"15x",healthPercentage:98}];function w(){let a=(0,k.useRouter)(),[b,c]=(0,e.useState)(!1),[f,m]=(0,e.useState)(!1),[n,o]=(0,e.useState)(""),[q,r]=(0,e.useState)([]),[t,w]=(0,e.useState)(null),[x,y]=(0,e.useState)("desc"),[z,A]=(0,e.useState)("");(0,e.useRef)(null);let B=(0,e.useRef)(null),C=["USDC","wETH","wMON","AUSD"],D=a=>{if("number"==typeof a)return a;let b=a.replace(/[$%x]/g,"");return b.includes("B")?1e9*parseFloat(b.replace("B","")):b.includes("M")?1e6*parseFloat(b.replace("M","")):parseFloat(b)},E=a=>{t===a?y("desc"===x?"asc":"desc"):(w(a),y("desc"))};[{symbol:"USDC",Icon:l.Hb},{symbol:"wETH",Icon:l.Eh},{symbol:"wBTC",Icon:l.Uz},{symbol:"AUSD",Icon:l.TR},{symbol:"wMON",Icon:l.vJ},{symbol:"aprMON",Icon:l.x2},{symbol:"sAUSD",Icon:l.qP}].filter(a=>a.symbol.toLowerCase().includes(n.toLowerCase()));let F=v.filter(a=>{let c=!0;q.length>0&&(c=q.includes(a.tokenSymbol));let d=!0;b&&(d=C.includes(a.tokenSymbol));let e=!0;if(z.trim()){let b=z.toLowerCase();e=a.name.toLowerCase().includes(b)||a.tokenSymbol.toLowerCase().includes(b)||a.oracleName.toLowerCase().includes(b)}return c&&d&&e}),G=F.sort((a,b)=>{if(!t)return 0;let c=D(a[t]),d=D(b[t]);return"asc"===x?c-d:d-c});return console.log("Wallet filter active:",b),console.log("Selected assets:",q),console.log("Filtered markets:",F),(0,d.jsxs)("div",{className:"max-w-[1400px] mx-auto px-3 md:px-10 py-6 md:py-12",children:[(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-12 gap-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-white/40 text-sm mb-3",children:"Total Deposits"}),(0,d.jsxs)("div",{className:"flex items-baseline gap-3 mb-3",children:[(0,d.jsx)("span",{className:"text-4xl md:text-5xl text-white font-medium",children:"$23,245,345"}),(0,d.jsx)("span",{className:"text-white/40 text-lg md:text-xl",children:"USD"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-green-400 text-sm font-medium",children:"$156.22 (+4.50%)"}),(0,d.jsx)("span",{className:"text-white/30 text-sm",children:"this month"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-12 md:gap-16",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-white/40 text-sm mb-3",children:"Active Loans"}),(0,d.jsx)("div",{className:"text-white text-xl md:text-2xl font-medium",children:"$123.43M"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-white/40 text-sm mb-3",children:"Earnings"}),(0,d.jsx)("div",{className:"text-white text-xl md:text-2xl font-medium",children:"$12.3B"})]})]})]}),(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,d.jsx)("span",{className:"text-white/40 text-sm",children:"Top Picks"}),(0,d.jsx)("button",{className:"p-1 text-white/40 hover:text-white hover:bg-white/5 rounded transition-colors",children:(0,d.jsx)(g,{className:"w-4 h-4"})})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{token:l.Uz,name:"BTC",apy:"10% APY",available:"20.7M"},{token:l.Hb,name:"USDC",apy:"8.5% APY",available:"45.2M"},{token:l.Eh,name:"ETH",apy:"12.3% APY",available:"15.8M"},{token:l.TR,name:"AUSD",apy:"9.7% APY",available:"32.4M"}].map((a,b)=>(0,d.jsx)("div",{className:"bg-white/[0.03] hover:bg-white/[0.05] border border-white/10 hover:border-white/20 rounded-xl p-4 transition-all cursor-pointer",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(a.token,{className:"w-10 h-10"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsxs)("span",{className:"text-white text-sm font-medium whitespace-nowrap",children:["Deposit ",a.name]}),(0,d.jsx)("span",{className:"px-1.5 py-0.5 bg-green-500/20 border border-green-500/30 rounded text-green-400 text-[10px] font-medium whitespace-nowrap",children:a.apy})]}),(0,d.jsxs)("div",{className:"text-white/40 text-xs whitespace-nowrap",children:["only ",a.available," available"]})]})]})},b))})]}),(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[(0,d.jsxs)("div",{className:"flex items-center gap-6 overflow-x-auto",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("span",{className:"text-white/40 text-sm whitespace-nowrap",children:"In Wallet:"}),(0,d.jsx)("button",{onClick:()=>c(!b),className:`w-10 h-5 rounded-full relative transition-colors ${b?"bg-[#5740CE]":"bg-white/10 hover:bg-white/20"}`,children:(0,d.jsx)("div",{className:`w-4 h-4 bg-white rounded-full absolute top-0.5 transition-transform ${b?"translate-x-5":"translate-x-0.5"}`})})]}),(0,d.jsx)(u,{onSelectionChange:r}),(0,d.jsxs)("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-white/60 hover:text-white transition-all text-sm whitespace-nowrap",children:[(0,d.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),(0,d.jsx)("span",{children:"Advanced"})]})]}),(0,d.jsxs)("div",{className:"relative w-full md:w-80",children:[(0,d.jsx)(h,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/40"}),(0,d.jsx)("input",{type:"text",placeholder:"Search...",className:"w-full pl-9 pr-16 py-2 bg-white/5 border border-white/10 rounded-lg text-sm text-white placeholder:text-white/40 focus:outline-none focus:border-[#5740CE]/50 transition-colors",ref:B,value:z,onChange:a=>A(a.target.value)}),(0,d.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/30 text-xs",children:"âŒ˜1"})]})]}),(0,d.jsx)("div",{className:"bg-white/[0.03] border border-white/10 rounded-2xl overflow-hidden",children:(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:"w-full table-fixed",children:[(0,d.jsxs)("colgroup",{children:[(0,d.jsx)("col",{style:{width:"20%"}}),(0,d.jsx)("col",{style:{width:"12%"}}),(0,d.jsx)("col",{style:{width:"12%"}}),(0,d.jsx)("col",{style:{width:"11%"}}),(0,d.jsx)("col",{style:{width:"11%"}}),(0,d.jsx)("col",{style:{width:"11%"}}),(0,d.jsx)("col",{style:{width:"23%"}})]}),(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"border-b border-white/5",children:[(0,d.jsx)("th",{className:"text-left px-4 py-4 text-white/40 font-normal text-sm",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{children:"Markets"}),(0,d.jsx)("span",{className:"text-white/30",children:v.length})]})}),(0,d.jsx)("th",{className:"text-left px-3 py-4 text-white/40 font-normal text-sm",children:(0,d.jsxs)("button",{className:"flex items-center gap-1 hover:text-white transition-colors w-full",onClick:()=>E("totalDeposits"),children:[(0,d.jsx)("span",{className:"whitespace-nowrap",children:"Total Deposits"}),"totalDeposits"===t&&("desc"===x?(0,d.jsx)(i,{className:"w-3.5 h-3.5 flex-shrink-0"}):(0,d.jsx)(j,{className:"w-3.5 h-3.5 flex-shrink-0"}))]})}),(0,d.jsx)("th",{className:"text-left px-3 py-4 text-white/40 font-normal text-sm",children:(0,d.jsxs)("button",{className:"flex items-center gap-1 hover:text-white transition-colors w-full",onClick:()=>E("availableLiquidity"),children:[(0,d.jsx)("span",{className:"whitespace-nowrap",children:"Available Liq."}),"availableLiquidity"===t&&("desc"===x?(0,d.jsx)(i,{className:"w-3.5 h-3.5 flex-shrink-0"}):(0,d.jsx)(j,{className:"w-3.5 h-3.5 flex-shrink-0"}))]})}),(0,d.jsx)("th",{className:"text-left px-3 py-4 text-white/40 font-normal text-sm",children:(0,d.jsxs)("button",{className:"flex items-center gap-1 hover:text-white transition-colors w-full",onClick:()=>E("supplyAPY"),children:[(0,d.jsx)("span",{className:"whitespace-nowrap",children:"Supply APY"}),"supplyAPY"===t&&("desc"===x?(0,d.jsx)(i,{className:"w-3.5 h-3.5 flex-shrink-0"}):(0,d.jsx)(j,{className:"w-3.5 h-3.5 flex-shrink-0"}))]})}),(0,d.jsx)("th",{className:"text-left px-3 py-4 text-white/40 font-normal text-sm",children:(0,d.jsxs)("button",{className:"flex items-center gap-1 hover:text-white transition-colors w-full",onClick:()=>E("borrowAPY"),children:[(0,d.jsx)("span",{className:"whitespace-nowrap",children:"Borrow APY"}),"borrowAPY"===t&&("desc"===x?(0,d.jsx)(i,{className:"w-3.5 h-3.5 flex-shrink-0"}):(0,d.jsx)(j,{className:"w-3.5 h-3.5 flex-shrink-0"}))]})}),(0,d.jsx)("th",{className:"text-left px-3 py-4 text-white/40 font-normal text-sm",children:(0,d.jsxs)("button",{className:"flex items-center gap-1 hover:text-white transition-colors w-full",onClick:()=>E("maxLeverage"),children:[(0,d.jsx)("span",{className:"whitespace-nowrap",children:"Max Lev."}),"maxLeverage"===t&&("desc"===x?(0,d.jsx)(i,{className:"w-3.5 h-3.5 flex-shrink-0"}):(0,d.jsx)(j,{className:"w-3.5 h-3.5 flex-shrink-0"}))]})}),(0,d.jsx)("th",{className:"text-left px-3 py-4 text-white/40 font-normal text-sm",children:(0,d.jsxs)("button",{className:"flex items-center gap-1 hover:text-white transition-colors w-full",onClick:()=>E("healthPercentage"),children:[(0,d.jsx)("span",{className:"whitespace-nowrap",children:"Your Health"}),"healthPercentage"===t&&("desc"===x?(0,d.jsx)(i,{className:"w-3.5 h-3.5 flex-shrink-0"}):(0,d.jsx)(j,{className:"w-3.5 h-3.5 flex-shrink-0"}))]})})]})}),(0,d.jsx)("tbody",{children:G.map(b=>(0,d.jsxs)("tr",{className:"border-b border-white/5 last:border-b-0 hover:bg-white/[0.03] transition-all cursor-pointer group",onClick:()=>{var c;return c=b.id,void a.push(`/market/${c}`)},children:[(0,d.jsx)("td",{className:"px-4 py-5",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(b.TokenIcon,{className:"w-10 h-10 rounded-full flex-shrink-0"}),(0,d.jsxs)("div",{className:"min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1.5 mb-0.5",children:[(0,d.jsx)("span",{className:"text-white text-sm font-medium whitespace-nowrap",children:b.name}),(0,d.jsx)(s,{content:`The oracle used in this market is ${b.oracleName}.`,children:(0,d.jsx)("div",{className:"inline-flex flex-shrink-0",children:(0,d.jsx)(b.OracleIcon,{className:"w-4 h-4"})})})]}),(0,d.jsx)("div",{className:"text-white/40 text-xs whitespace-nowrap",children:b.tvl})]})]})}),(0,d.jsx)("td",{className:"px-3 py-5",children:(0,d.jsx)(s,{content:b.totalDepositsExact,children:(0,d.jsx)("span",{className:"text-white text-sm whitespace-nowrap cursor-help",children:b.totalDeposits})})}),(0,d.jsx)("td",{className:"px-3 py-5",children:(0,d.jsx)(s,{content:b.availableLiquidityExact,children:(0,d.jsx)("span",{className:"text-white text-sm whitespace-nowrap cursor-help",children:b.availableLiquidity})})}),(0,d.jsx)("td",{className:"px-3 py-5",children:(0,d.jsx)(s,{content:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,d.jsx)("span",{className:"text-white/60",children:"Base APY:"}),(0,d.jsx)("span",{className:"text-white",children:"6.5%"})]}),(0,d.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,d.jsx)("span",{className:"text-white/60",children:"CVE Rewards:"}),(0,d.jsx)("span",{className:"text-green-400",children:"3.2%"})]}),(0,d.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,d.jsx)("span",{className:"text-white/60",children:"Bytes Boost:"}),(0,d.jsx)("span",{className:"text-purple-400",children:"1.2%"})]}),(0,d.jsxs)("div",{className:"border-t border-white/10 pt-1 mt-1 flex justify-between gap-4",children:[(0,d.jsx)("span",{className:"text-white font-medium",children:"Total APY:"}),(0,d.jsx)("span",{className:"text-green-400 font-medium",children:b.supplyAPY})]})]}),children:(0,d.jsx)("span",{className:"text-green-400 text-sm font-medium whitespace-nowrap cursor-help",children:b.supplyAPY})})}),(0,d.jsx)("td",{className:"px-3 py-5",children:(0,d.jsx)(s,{content:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,d.jsx)("span",{className:"text-white/60",children:"Base APY:"}),(0,d.jsx)("span",{className:"text-white",children:"3.2%"})]}),(0,d.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,d.jsx)("span",{className:"text-white/60",children:"CVE Rewards:"}),(0,d.jsx)("span",{className:"text-green-400",children:"1.4%"})]}),(0,d.jsxs)("div",{className:"border-t border-white/10 pt-1 mt-1 flex justify-between gap-4",children:[(0,d.jsx)("span",{className:"text-white font-medium",children:"Total APY:"}),(0,d.jsx)("span",{className:"text-orange-400 font-medium",children:b.borrowAPY})]})]}),children:(0,d.jsx)("span",{className:"text-orange-400 text-sm font-medium whitespace-nowrap cursor-help",children:b.borrowAPY})})}),(0,d.jsx)("td",{className:"px-3 py-5 text-white text-sm whitespace-nowrap",children:b.maxLeverage}),(0,d.jsx)("td",{className:"px-3 py-5",children:(0,d.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,d.jsx)(p,{className:"w-[51px] h-4 flex-shrink-0",healthPercentage:b.healthPercentage}),(0,d.jsxs)("span",{className:"text-white text-sm whitespace-nowrap",children:[b.healthPercentage,"%"]})]})})]},b.id))})]})})})]})}var x=c(1306);function y(){return(0,d.jsxs)("div",{className:"min-h-screen flex flex-col font-['Work_Sans',sans-serif]",children:[(0,d.jsx)(x.F,{}),(0,d.jsx)("main",{className:"flex-1 pt-[73px]",children:(0,d.jsx)(w,{})})]})}},6713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},7742:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f});var d=c(5338),e=c(9104);function f(){return(0,d.jsx)(e.MarketView,{})}},8354:a=>{"use strict";a.exports=require("util")},9104:(a,b,c)=>{"use strict";c.d(b,{MarketView:()=>d});let d=(0,c(7954).registerClientReference)(function(){throw Error("Attempted to call MarketView() from the server but MarketView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mxdelra/clawd/curvance-nextjs/src/components/MarketView.tsx","MarketView")},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9902:a=>{"use strict";a.exports=require("path")},9966:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(9754),e=c(9117),f=c(6595),g=c(2324),h=c(9326),i=c(8928),j=c(175),k=c(12),l=c(4290),m=c(2696),n=c(2802),o=c(7533),p=c(5229),q=c(2822),r=c(261),s=c(6453),t=c(2474),u=c(6713),v=c(1356),w=c(2685),x=c(6225),y=c(3446),z=c(2762),A=c(5742),B=c(6439),C=c(1170),D=c.n(C),E=c(2506),F=c(1203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,7742)),"/Users/mxdelra/clawd/curvance-nextjs/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,6953)),"/Users/mxdelra/clawd/curvance-nextjs/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,1170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,7028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,2768,23)),"next/dist/client/components/builtin/unauthorized.js"]}],I=["/Users/mxdelra/clawd/curvance-nextjs/app/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(9902).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[876,233,81],()=>b(b.s=9966));module.exports=c})();